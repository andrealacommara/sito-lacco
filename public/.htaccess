# ===============================
# Forza HTTPS e rimuove "www"
# ===============================
RewriteEngine On

# Se non è HTTPS → forza HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]

# Se c'è "www." → rimuovilo e reindirizza a https://lacco.it/
RewriteCond %{HTTP_HOST} ^www\.lacco\.it [NC]
RewriteRule ^(.*)$ https://lacco.it/$1 [L,R=301,NE]

RewriteBase /

# ===============================
# Redirect esterni permanenti
# ===============================
Redirect 301 /spotify https://open.spotify.com/intl-it/artist/6viihrUFd4eGCfv9w61tL7?si=CDBCI2pYT2axereXjLHUJA
Redirect 301 /instagram https://instagram.com/laccoverse
Redirect 301 /tiktok https://tiktok.com/@laccoverse
Redirect 301 /applemusic https://music.apple.com/it/artist/lacco/1773060241
Redirect 301 /youtube https://www.youtube.com/@Laccoverse

# ===============================
# Redirect per singoli brani
# ===============================
Redirect 301 /tempo-perso https://distrokid.com/hyperfollow/lacco/tempo-perso-intro
Redirect 301 /mondo-dentro https://distrokid.com/hyperfollow/lacco/mondo-dentro
Redirect 301 /tra-le-nuvole https://distrokid.com/hyperfollow/lacco/tra-le-nuvole
Redirect 301 /tra-le-nuvole-sv https://distrokid.com/hyperfollow/lacco/tra-le-nuvole-sunset-version
Redirect 301 /cercami https://distrokid.com/hyperfollow/lacco/cercami-4
Redirect 301 /rumore-di-fondo https://distrokid.com/hyperfollow/lacco/rumore-di-fondo

# ===============================
# SPA fallback (React/Vite)
# ===============================
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [L]